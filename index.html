<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tr·ª£ l√Ω ·∫£o L·ªõp h·ªçc Vui v·∫ª</title>
    <style>
      /* Ph√¥ng ch·ªØ d·ªÖ th∆∞∆°ng cho tr·∫ª em */
      @import url("https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;700&display=swap");

      body {
        font-family: "Baloo 2", cursive;
        background-color: #f0f8ff; /* AliceBlue */
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        color: #333;
      }

      #game-container {
        width: 90%;
        max-width: 500px;
        background-color: #ffffff;
        border-radius: 20px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        display: flex;
        flex-direction: column;
      }

      #header {
        background-color: #4a90e2; /* CornflowerBlue */
        color: white;
        padding: 15px;
        text-align: center;
        font-size: 1.5em;
        font-weight: 700;
      }

      #score-board {
        text-align: center;
        padding: 10px;
        font-size: 1.2em;
        background-color: #fdf2b5; /* Light Yellow */
        font-weight: bold;
      }

      #chat-area {
        padding: 20px;
        height: 300px;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        gap: 15px;
      }

      .message {
        max-width: 80%;
        padding: 12px 18px;
        border-radius: 18px;
        line-height: 1.4;
        display: flex;
        align-items: center;
        gap: 10px;
        animation: fadeIn 0.5s ease-in-out;
      }

      .bot-message {
        background-color: #e1f5fe; /* LightCyan */
        align-self: flex-start;
        border-bottom-left-radius: 4px;
      }

      .feedback-message {
        background-color: #d1f7d5; /* Light Green for correct */
        font-weight: bold;
        align-self: center;
        text-align: center;
        width: 100%;
        justify-content: center;
      }

      .feedback-message.incorrect {
        background-color: #f7d1d1; /* Light Red for incorrect */
      }

      .bot-avatar {
        width: 40px;
        height: 40px;
      }

      #options-area {
        padding: 20px;
        display: flex;
        flex-direction: column;
        gap: 10px;
        border-top: 2px solid #f0f0f0;
      }

      .option-button {
        background-color: #ffd700; /* Gold */
        color: #333;
        border: none;
        padding: 15px;
        border-radius: 12px;
        font-family: "Baloo 2", cursive;
        font-size: 1.1em;
        cursor: pointer;
        transition: background-color 0.3s, transform 0.2s;
        text-align: left;
        font-weight: bold;
      }

      .option-button:hover:not(:disabled) {
        background-color: #fbc531; /* YellowSea */
        transform: scale(1.02);
      }

      .option-button:disabled {
        cursor: not-allowed;
        opacity: 0.7;
      }

      .option-button.correct {
        background-color: #2ecc71; /* Emerald */
        color: white;
      }

      .option-button.incorrect {
        background-color: #e74c3c; /* Alizarin */
        color: white;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Ch·ªânh l·∫°i giao di·ªán tr√™n ƒëi·ªán tho·∫°i */
      @media (max-width: 600px) {
        body {
          height: auto;
          padding: 10px 0;
        }
        #game-container {
          height: 95vh;
        }
      }
    </style>
  </head>
  <body>
    <div id="game-container">
      <div id="header">L·ªõp H·ªçc Vui V·∫ª</div>
      <div id="score-board">üåü Ng√¥i Sao ChƒÉm Ch·ªâ: 0</div>
      <div id="chat-area"></div>
      <div id="options-area"></div>
    </div>

    <script>
      const gameData = [
        {
          type: "title",
          text: "Ch√†o m·ª´ng ƒë·∫øn v·ªõi Th·ª≠ th√°ch 1: üëë NH√Ä TH√îNG TH√ÅI TH·ªúI GIAN!",
        },
        {
          type: "question",
          question:
            "ƒê√£ 8 gi·ªù t·ªëi, ƒë·∫øn gi·ªù b·∫°n Minh ng·ªìi v√†o b√†n h·ªçc b√†i theo th·ªùi gian bi·ªÉu. Nh∆∞ng tr√™n TV ƒëang chi·∫øu t·∫≠p phim ho·∫°t h√¨nh b·∫°n ·∫•y r·∫•t th√≠ch. Theo b·∫°n, Minh n√™n l√†m g√¨?",
          options: [
            "A. Xem h·∫øt phim r·ªìi m·ªõi h·ªçc b√†i.",
            "B. T·∫Øt TV, h·ªçc b√†i ƒë√∫ng gi·ªù v√† h·∫πn xem l·∫°i phim v√†o h√¥m kh√°c.",
            "C. V·ª´a xem TV v·ª´a h·ªçc b√†i cho nhanh.",
          ],
          correctAnswer: 1,
          feedback_correct:
            "Hoan h√¥! H·ªçc b√†i ƒë√∫ng gi·ªù l√† m·ªôt th√≥i quen r·∫•t t·ªët.",
          feedback_incorrect:
            "Ti·∫øc qu√°! Vi·ªác h·ªçc quan tr·ªçng h∆°n, ch√∫ng ta n√™n ∆∞u ti√™n nh√©.",
        },
        {
          type: "question",
          question:
            "H√¥m nay l√† Ch·ªß nh·∫≠t, An d·ª± ƒë·ªãnh 4 gi·ªù chi·ªÅu s·∫Ω ƒëi ƒë√° b√≥ng. Nh∆∞ng tr·ªùi ƒë·ªôt nhi√™n ƒë·ªï m∆∞a to. An n√™n l√†m g√¨?",
          options: [
            "A. M·∫∑c k·ªá m∆∞a, v·∫´n ƒëi ƒë√° b√≥ng.",
            "B. ·ªû nh√† ph·ª• gi√∫p b·ªë m·∫π vi·ªác nh√† ho·∫∑c ƒë·ªçc s√°ch.",
            "C. Ng·ªìi kh√≥c v√¨ kh√¥ng ƒë∆∞·ª£c ƒëi ch∆°i.",
          ],
          correctAnswer: 1,
          feedback_correct: "Ch√≠nh x√°c! B·∫°n r·∫•t bi·∫øt c√°ch ·ª©ng x·ª≠ linh ho·∫°t.",
          feedback_incorrect: "ƒêi ƒë√° b√≥ng khi tr·ªùi m∆∞a s·∫Ω d·ªÖ b·ªã ·ªëm ƒë√≥ b·∫°n ∆°i!",
        },
        {
          type: "title",
          text: "B·∫°n gi·ªèi qu√°! Gi·ªù l√† Th·ª≠ th√°ch 2: üõ°Ô∏è HI·ªÜP Sƒ® N·ªòI QUY!",
        },
        {
          type: "question",
          question:
            "Trong gi·ªù h·ªçc, b·∫°n Nam th·∫•y b√∫t c·ªßa m√¨nh b·ªã h·ªèng. B·∫°n ·∫•y n√™n l√†m g√¨ theo n·ªôi quy l·ªõp h·ªçc?",
          options: [
            "A. N√≥i to l√™n: 'C√¥ ∆°i, b√∫t con h·ªèng r·ªìi!'",
            "B. L·∫≥ng l·∫∑ng l·∫•y b√∫t c·ªßa b·∫°n b√™n c·∫°nh d√πng t·∫°m.",
            "C. Gi∆° tay xin ph√©p c√¥ r·ªìi n√≥i nh·ªè cho c√¥ bi·∫øt.",
          ],
          correctAnswer: 2,
          feedback_correct:
            "ƒê√∫ng r·ªìi! Gi·ªØ tr·∫≠t t·ª± v√† t√¥n tr·ªçng th·∫ßy c√¥ l√† ƒëi·ªÅu r·∫•t quan tr·ªçng.",
          feedback_incorrect:
            "·ªí! Ch√∫ng ta c·∫ßn gi∆° tay ph√°t bi·ªÉu ƒë·ªÉ kh√¥ng l√†m ·∫£nh h∆∞·ªüng ƒë·∫øn c·∫£ l·ªõp nh√©.",
        },
        {
          type: "question",
          question:
            "Sau gi·ªù ƒÉn tr∆∞a, Lan th·∫•y v·ªè h·ªôp s·ªØa tr√™n b√†n. ƒê√¢y l√† h√†nh vi ƒë√∫ng hay sai v√† n√™n l√†m g√¨?",
          options: [
            "A. Sai. Lan n√™n v·ª©t v·ªè h·ªôp v√†o ƒë√∫ng th√πng r√°c quy ƒë·ªãnh.",
            "B. ƒê√∫ng. C·ª© ƒë·ªÉ ƒë√≥ l√°t n·ªØa c√¥ lao c√¥ng s·∫Ω d·ªçn.",
            "C. Sai. Lan n√™n n√©m v·ªè h·ªôp ra s√¢n tr∆∞·ªùng.",
          ],
          correctAnswer: 0,
          feedback_correct:
            "Tuy·ªát v·ªùi! Gi·ªØ g√¨n v·ªá sinh chung l√† tr√°ch nhi·ªám c·ªßa m·ªói ch√∫ng ta.",
          feedback_incorrect:
            "Kh√¥ng ƒë√∫ng r·ªìi! M·ªói ng∆∞·ªùi g√≥p m·ªôt tay th√¨ l·ªõp h·ªçc m·ªõi lu√¥n s·∫°ch ƒë·∫πp ƒë∆∞·ª£c.",
        },
        {
          type: "end",
          text: "Ch√∫c m·ª´ng b·∫°n ƒë√£ ho√†n th√†nh t·∫•t c·∫£ th·ª≠ th√°ch! B·∫°n l√† m·ªôt h·ªçc sinh r·∫•t tuy·ªát v·ªùi!",
        },
      ];

      const chatArea = document.getElementById("chat-area");
      const optionsArea = document.getElementById("options-area");
      const scoreBoard = document.getElementById("score-board");

      let currentQuestionIndex = 0;
      let score = 0;
      const botAvatarUrl = "https://api.iconify.design/twemoji/robot.svg"; // URL ·∫£nh robot

      function addBotMessage(text) {
        const messageDiv = document.createElement("div");
        messageDiv.className = "message bot-message";
        messageDiv.innerHTML = `<img src="${botAvatarUrl}" alt="bot" class="bot-avatar"> <p>${text}</p>`;
        chatArea.appendChild(messageDiv);
        chatArea.scrollTop = chatArea.scrollHeight;
      }

      function addFeedbackMessage(text, isCorrect) {
        const feedbackDiv = document.createElement("div");
        feedbackDiv.className = "message feedback-message";
        if (!isCorrect) {
          feedbackDiv.classList.add("incorrect");
        }
        feedbackDiv.innerHTML = `<p>${text}</p>`;
        chatArea.appendChild(feedbackDiv);
        chatArea.scrollTop = chatArea.scrollHeight;
      }

      function displayQuestion() {
        const currentData = gameData[currentQuestionIndex];
        optionsArea.innerHTML = ""; // X√≥a c√°c n√∫t c≈©

        if (currentData.type === "question") {
          addBotMessage(currentData.question);

          currentData.options.forEach((option, index) => {
            const button = document.createElement("button");
            button.className = "option-button";
            button.innerText = option;
            button.onclick = () => selectAnswer(index);
            optionsArea.appendChild(button);
          });
        } else if (currentData.type === "title") {
          addBotMessage(currentData.text);
          setTimeout(nextQuestion, 2000); // T·ª± ƒë·ªông chuy·ªÉn sau 2 gi√¢y
        } else if (currentData.type === "end") {
          addBotMessage(currentData.text);
          addBotMessage(`T·ªïng s·ªë sao b·∫°n ƒë·∫°t ƒë∆∞·ª£c l√†: ${score} üåü. Gi·ªèi qu√°!`);
          optionsArea.innerHTML =
            '<button class="option-button" onclick="startGame()">Ch∆°i l·∫°i t·ª´ ƒë·∫ßu</button>';
        }
      }

      function selectAnswer(selectedIndex) {
        const currentQuestion = gameData[currentQuestionIndex];
        const buttons = optionsArea.querySelectorAll(".option-button");

        // V√¥ hi·ªáu h√≥a t·∫•t c·∫£ c√°c n√∫t
        buttons.forEach((button) => (button.disabled = true));

        if (selectedIndex === currentQuestion.correctAnswer) {
          score++;
          updateScore();
          addFeedbackMessage(currentQuestion.feedback_correct, true);
          buttons[selectedIndex].classList.add("correct");
        } else {
          addFeedbackMessage(currentQuestion.feedback_incorrect, false);
          buttons[selectedIndex].classList.add("incorrect");
          buttons[currentQuestion.correctAnswer].classList.add("correct");
        }

        setTimeout(nextQuestion, 3000); // Ch·ªù 3 gi√¢y r·ªìi chuy·ªÉn c√¢u h·ªèi ti·∫øp theo
      }

      function nextQuestion() {
        currentQuestionIndex++;
        if (currentQuestionIndex < gameData.length) {
          displayQuestion();
        }
      }

      function updateScore() {
        scoreBoard.innerText = `üåü Ng√¥i Sao ChƒÉm Ch·ªâ: ${score}`;
      }

      function startGame() {
        currentQuestionIndex = 0;
        score = 0;
        updateScore();
        chatArea.innerHTML = ""; // X√≥a s·∫°ch tin nh·∫Øn c≈©

        // L·ªùi ch√†o ban ƒë·∫ßu
        addBotMessage(
          "Ch√†o b·∫°n! T·ªõ l√† Robot Tin Tin, tr·ª£ l√Ω c·ªßa L·ªõp h·ªçc Vui v·∫ª!"
        );
        setTimeout(() => {
          addBotMessage(
            "H√¥m nay ch√∫ng m√¨nh c√πng ch∆°i m·ªôt tr√≤ ch∆°i ƒë·ªÉ √¥n l·∫°i b√†i nh√©!"
          );
        }, 1500);
        setTimeout(displayQuestion, 3000);
      }

      // B·∫Øt ƒë·∫ßu tr√≤ ch∆°i khi trang ƒë∆∞·ª£c t·∫£i
      window.onload = startGame;
    </script>
  </body>
</html>
